(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{40:function(e,a,t){e.exports=t(73)},45:function(e,a,t){},73:function(e,a,t){"use strict";t.r(a);var s=t(0),n=t.n(s),r=t(24),i=t.n(r),l=(t(45),t(8)),c=t(17),m=(t(46),t(36)),o=t.n(m),d=t(1),u=t.n(d),p=t(3),h=t(6),g=t(7),v=t(10),f=t(9),E=t(11),N=t(16),b=t(2),k=t(4),y=t.n(k),D=function(){function e(){Object(h.a)(this,e)}return Object(g.a)(e,null,[{key:"setToken",value:function(e){localStorage.setItem("token",e)}},{key:"getToken",value:function(){return localStorage.getItem("token")}},{key:"logout",value:function(){localStorage.removeItem("token")}},{key:"getPayload",value:function(){var e=this.getToken();if(!e)return!1;var a=e.split(".");return!(a.length<3)&&JSON.parse(atob(a[1]))}},{key:"isAuthenticated",value:function(){var e=this.getPayload();return!!e&&Math.round(Date.now()/1e3)<e.exp}}]),e}(),C=t(37),w={common:{"X-CSRF-TOKEN":t.n(C).a.get("csrftoken")}},x=function(e){function a(){var e,t;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(t=Object(v.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(n)))).state={loginDetails:{email:"",password:""},error:""},t.handleChange=function(e){var a=e.target,s=a.name,n=a.value,r=Object(b.a)({},t.state.loginDetails,Object(N.a)({},s,n));t.setState({loginDetails:r,error:""})},t.handleSubmit=function(){var e=Object(p.a)(u.a.mark((function e(a){var s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,y.a.post("/api/login/",t.state.loginDetails,w);case 4:s=e.sent,D.setToken(s.data.token),t.props.homeProps.history.push("/profile/".concat(s.data.user.id)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t.setState({error:"Incorrect Credentials"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}(),t}return Object(E.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){console.log(this.props.homeProps);var e=this.state.loginDetails,a=e.email,t=e.password;return n.a.createElement("form",{className:"column login-form",onSubmit:this.handleSubmit},n.a.createElement("div",{className:"field invisible"},n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"input is-rounded event-input is-link",type:"text"}))),n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"input is-rounded event-input is-link",type:"text",name:"email",value:a,onChange:this.handleChange,placeholder:"Email"}))),n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"input is-rounded is-link",type:"password",name:"password",placeholder:"Password",value:t,onChange:this.handleChange}))),n.a.createElement("div",{className:"columns is-centered"},n.a.createElement("div",{className:"column is-half"},n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("button",{type:"submit",className:"button is-fullwidth has-text-black is-white is-4"},"Login"))))),n.a.createElement("div",{className:"field invisible"},n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"input is-rounded event-input is-link",type:"text"}))),n.a.createElement("div",{className:"field invisible"},n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"input is-rounded event-input is-link",type:"text"}))))}}]),a}(n.a.Component),O=function(e){function a(){var e,t;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(t=Object(v.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(n)))).state={registerDetails:{first_name:"",second_name:"",username:Math.random().toString(30).slice(2),email:"",password:"",password_confirmation:"",user_image:""},error:""},t.handleChange=function(e){var a=e.target,s=a.name,n=a.value,r=Object(b.a)({},t.state.registerDetails,Object(N.a)({},s,n));t.setState({registerDetails:r,error:""})},t.handleSubmit=function(){var e=Object(p.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,y.a.post("/api/register/",t.state.registerDetails,w);case 4:t.login(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t.setState({error:"Incorrect Credentials"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(a){return e.apply(this,arguments)}}(),t.login=Object(p.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post("/api/login/",{email:t.state.registerDetails.email,password:t.state.registerDetails.password},w);case 3:a=e.sent,D.setToken(a.data.token),t.props.homeProps.history.push("/profile/".concat(a.data.user.id)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.setState({error:"Incorrect Credentials"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),t}return Object(E.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){console.log(this.state.registerDetails);var e=this.state.registerDetails,a=e.first_name,t=e.second_name,s=e.email,r=e.password,i=e.password_confirmation;e.user_image;return n.a.createElement("form",{className:"column login-form",onSubmit:this.handleSubmit},n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"input is-rounded event-input is-link",type:"text",name:"first_name",value:a,onChange:this.handleChange,placeholder:"First Name"}))),n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"input is-rounded event-input is-link",type:"text",name:"second_name",value:t,onChange:this.handleChange,placeholder:"Second Name"}))),n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"input is-rounded event-input is-link",type:"text",name:"email",value:s,onChange:this.handleChange,placeholder:"Email"}))),n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"input is-rounded is-link",type:"password",name:"password",placeholder:"Password",value:r,onChange:this.handleChange}))),n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"input is-rounded is-link",type:"password",name:"password_confirmation",placeholder:"Password Confirmation",value:i,onChange:this.handleChange}))),n.a.createElement("div",{className:"columns is-centered"},n.a.createElement("div",{className:"column is-half"},n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("button",{type:"submit",className:"button is-fullwidth has-text-black is-white is-4"},"Register"))))))}}]),a}(n.a.Component),P=function(e){function a(){var e,t;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(t=Object(v.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(n)))).state={loggedIn:!1,loginPage:!0,userDetails:{first_name:"",second_name:"",email:"",password:"",password_confirmation:"",user_image:"",teams:{teamName:"",teamPoints:"",leagues:[]},leagues:[]}},t.getUserData=function(){var e=Object(p.a)(u.a.mark((function e(a){var s,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,D.getToken(),e.next=4,y.a.get("/api/profile/".concat(a));case 4:s=e.sent,n=s.data,t.setState({userDetails:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t.setState({error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}(),t.handleClick=function(){var e=!t.state.loginPage;t.setState({loginPage:e})},t.checkLoggedIn=function(){var e=D.isAuthenticated();if(t.setState({loggedIn:e}),e){var a=D.getPayload().sub;t.getUserData(a)}},t}return Object(E.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){this.checkLoggedIn()}},{key:"render",value:function(){var e=D.getPayload().sub;return n.a.createElement("div",{className:"homepage-outer-container"},n.a.createElement("div",{className:"color-overlay"}),n.a.createElement("div",{className:"homepage-inner-container"},n.a.createElement("div",{className:"title-outer-container"},n.a.createElement("div",{className:"title-inner-container"},n.a.createElement("h1",{className:"home-title"},"Bring It Home"),n.a.createElement("br",null),n.a.createElement("h4",{className:"title is-3 has-text-white has-text-centered home-subtitle"},"Your very own Fantasy League Football Team Builder"))),n.a.createElement("div",{className:"auth-outer-container"},this.state.loggedIn&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"welcome-back"},n.a.createElement("h4",{className:"title is-4 has-text-white"},"Hey, ",this.state.userDetails.first_name,"!"),n.a.createElement(l.b,{to:"/profile/".concat(e,"/")},n.a.createElement("button",{className:"button is-rounded"},"Profile")))),!this.state.loggedIn&&this.state.loginPage&&n.a.createElement("div",{className:"inner-auth-container"},n.a.createElement(x,{homeProps:this.props})),!this.state.loggedIn&&!this.state.loginPage&&n.a.createElement("div",{className:"inner-auth-container"},n.a.createElement(O,{homeProps:this.props}))),n.a.createElement("div",{className:"auth-toggle-container"},!this.state.loggedIn&&this.state.loginPage&&n.a.createElement("div",{className:"auth-toggle"},n.a.createElement("p",null,"Not Registered? Click to register."),n.a.createElement("button",{className:"button is-small toggle-button",onClick:this.handleClick},"Register")),!this.state.loggedIn&&!this.state.loginPage&&n.a.createElement("div",{className:"auth-toggle"},n.a.createElement("p",null,"Already Registered? Click to login."),n.a.createElement("button",{className:"button is-small toggle-button",onClick:this.handleClick},"Login")))))}}]),a}(n.a.Component),j=function(e){function a(){var e,t;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(t=Object(v.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(n)))).state={navOpen:!1},t.toggleNavbar=function(){t.setState({navOpen:!t.state.navOpen})},t.handleLogout=function(){D.logout(),t.props.history.push("/")},t}return Object(E.a)(a,e),Object(g.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&this.setState({navOpen:!1})}},{key:"render",value:function(){var e=D.getPayload().sub;return n.a.createElement("nav",{className:"navbar is-dark is-size-5"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"navbar-brand"},n.a.createElement(l.b,{className:"navbar-item",to:"/"},"bring.it.home"),D.isAuthenticated()&&n.a.createElement(l.b,{className:"navbar-item",to:"/teams/create"},"Create Team"),n.a.createElement("a",{className:"navbar-burger ".concat(this.state.navOpen?"is-active":""),onClick:this.toggleNavbar},n.a.createElement("span",{"aria-hidden":"true"}),n.a.createElement("span",{"aria-hidden":"true"}),n.a.createElement("span",{"aria-hidden":"true"}))),n.a.createElement("div",{className:"navbar-menu ".concat(this.state.navOpen?"is-active":"")},n.a.createElement("div",{className:"navbar-end"},!D.isAuthenticated()&&n.a.createElement(l.b,{className:"navbar-item",to:"/"},"Login"),!D.isAuthenticated()&&n.a.createElement(l.b,{className:"navbar-item",to:"/"},"Register"),D.isAuthenticated()&&n.a.createElement(l.b,{className:"navbar-item",to:"/profile/".concat(e)},"\ud83d\udc64"),D.isAuthenticated()&&n.a.createElement("a",{onClick:this.handleLogout,className:"navbar-item"},"Logout")))))}}]),a}(n.a.Component),T=Object(c.f)(j),I=function(e){function a(){var e,t;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(t=Object(v.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(n)))).state={image:null},t.handleUpload=function(){var e=Object(p.a)(u.a.mark((function e(a){var s,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.target.files,(n=new FormData).append("file",s[0]),n.append("upload_preset","di8w5vef"),e.next=6,y.a.post("https://api.cloudinary.com/v1_1/drjzlxwhz/image/upload",n);case 6:r=e.sent,t.setState({image:r.data.url},(function(){t.props.handleChange({target:{name:t.props.fieldName,value:r.data.url}})}));case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),t}return Object(E.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){var e=this.props.labelClassName?this.props.labelClassName:"default_class",a=this.state.image;return n.a.createElement(n.a.Fragment,null,a?n.a.createElement("div",null,n.a.createElement("label",{className:e},this.props.labelText),n.a.createElement("input",{className:this.props.inputClassName,type:"file",onChange:this.handleUpload})):n.a.createElement(n.a.Fragment,null,n.a.createElement("label",{className:e},this.props.labelText),n.a.createElement("input",{className:this.props.inputClassName,type:"file",onChange:this.handleUpload})))}}]),a}(n.a.Component),_=function(e){function a(){var e,t;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(t=Object(v.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(n)))).state={userDetails:{first_name:"",second_name:"",email:"",password:"",password_confirmation:"",user_image:"",teams:[],leagues:[]},error:"",editMode:!1},t.getUserData=function(){var e=Object(p.a)(u.a.mark((function e(a){var s,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,D.getToken(),e.next=4,y.a.get("/api/profile/".concat(a));case 4:s=e.sent,n=s.data,t.setState({userDetails:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t.setState({error:e.t0});case 12:return e.prev=12,t.setState({editMode:!1}),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(a){return e.apply(this,arguments)}}(),t.handleDeleteTeam=function(){var e=Object(p.a)(u.a.mark((function e(a){var s,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.target.id,n=t.props.match.params.id,e.prev=2,e.next=5,y.a.delete("/api/teams/".concat(s),{headers:{Authorization:"Bearer ".concat(D.getToken())}});case 5:t.getUserData(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),t.props.history.push("/notfound");case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(a){return e.apply(this,arguments)}}(),t.handleEditUser=function(){return t.setState({editMode:!0})},t.handleChange=function(e){var a=e.target,s=a.name,n=a.value;if("managerName"===s){var r=n.split(" ")[0],i=n.split(" ")[1];t.setState(Object(b.a)({},t.state,{userDetails:Object(b.a)({},t.state.userDetails,{first_name:r,second_name:i})}))}else if("email"===s){var l=n;t.setState(Object(b.a)({},t.state,{userDetails:Object(b.a)({},t.state.userDetails,{email:l})}))}},t.handleSubmitEdit=Object(p.a)(u.a.mark((function e(){var a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={first_name:t.state.userDetails.first_name,second_name:t.state.userDetails.second_name,email:t.state.userDetails.email,user_image:t.state.userDetails.user_image},s=t.props.match.params.id,e.prev=2,e.next=5,y.a.put("/api/profile/".concat(s,"/"),a,{headers:{Authorization:"Bearer ".concat(D.getToken())}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:return e.prev=10,t.getUserData(s),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[2,7,10,13]])}))),t.handleDeleteUser=Object(p.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props.match.params.id,e.prev=1,e.next=4,y.a.delete("/api/profile/".concat(a),{headers:{Authorization:"Bearer ".concat(D.getToken())}});case 4:D.logout(),t.props.history.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.props.history.push("/notfound");case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),t.handeImageUpload=function(){var e=Object(p.a)(u.a.mark((function e(a){var s,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object(b.a)({},t.state.userDetails,Object(N.a)({},a.target.name,a.target.value)),n=t.props.match.params.id,t.setState({userDetails:s}),r={first_name:t.state.userDetails.first_name,second_name:t.state.userDetails.second_name,email:t.state.userDetails.email,user_image:a.target.value},console.log(r),e.prev=5,e.next=8,y.a.put("/api/profile/".concat(n,"/"),r,{headers:{Authorization:"Bearer ".concat(D.getToken())}});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(a){return e.apply(this,arguments)}}(),t.isOwner=function(){return D.getPayload().sub===t.state.userDetails.id},t}return Object(E.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.getUserData(e)}},{key:"render",value:function(){var e=this,a=this.state.userDetails,t=(a.id,a.first_name),s=a.second_name,r=a.email,i=a.user_image,c=a.teams;a.leagues;return n.a.createElement(n.a.Fragment,null,n.a.createElement(T,null),n.a.createElement("div",{className:"top-banner"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"columns is-vcentered"},n.a.createElement("div",{className:"column is-2"},n.a.createElement("figure",{className:"image is-128x128",id:!this.state.editMode&&"manager-margin"},n.a.createElement("img",{className:"is-rounded manager-image",src:i||"https://www.oxfordmail.co.uk/resources/images/10635381.jpg?display=1&htype=0&type=responsive-gallery"})),D.getPayload().sub==this.props.match.params.id&&this.state.editMode?n.a.createElement(I,{labelText:"",handleChange:this.handeImageUpload,fieldName:"user_image",labelClassName:"my-label-class",inputClassName:"my-input-class"}):""),n.a.createElement("div",{className:"column is-7"},n.a.createElement("div",{className:"tags has-addons"},n.a.createElement("span",{className:"tag is-link is-large"},"Manager"),this.state.editMode?n.a.createElement("span",{className:"tag is-light has-text-white is-large is-paddingless",id:"user-details-edit"},n.a.createElement("input",{className:"input has-background-white has-text-black",id:"user-details-edit",type:"text",placeholder:"".concat(t," ").concat(s),name:"managerName",onChange:this.handleChange})):n.a.createElement("span",{className:"tag is-dark has-text-white is-large",id:"user-details"},t," ",s)),n.a.createElement("div",{className:"tags has-addons"},n.a.createElement("span",{className:"tag is-link is-large"},"Email"),this.state.editMode?n.a.createElement("span",{className:"tag is-light has-text-white is-large is-paddingless",id:"user-details-edit"},n.a.createElement("input",{className:"input has-background-white has-text-black",id:"user-details-edit",type:"text",placeholder:r,name:"email",onChange:this.handleChange})):n.a.createElement("span",{className:"tag is-dark has-text-white is-large",id:"user-details"},r))),n.a.createElement("div",{className:"column is-3"},n.a.createElement("div",{className:"columns is-centered"},n.a.createElement("div",{className:"column is-half"},this.isOwner&&n.a.createElement(n.a.Fragment,null,this.state.editMode?n.a.createElement("button",{className:"button has-text-white is-link is-size-6 user-edit-button",onClick:this.handleSubmitEdit},"Submit Changes"):n.a.createElement("button",{className:"button has-text-white is-link is-size-6 user-edit-button",onClick:this.handleEditUser},"Edit Profile"),n.a.createElement("button",{className:"button has-text-white is-danger is-size-6 user-delete-button",onClick:this.handleDeleteUser},"Delete Profile")))))))),n.a.createElement("div",{className:"hero has-background-dark user-background"},n.a.createElement("div",{className:"columns"},n.a.createElement("div",{className:"column is-1"}),n.a.createElement("div",{className:"column is-10 has-background-dark"},n.a.createElement("article",{className:"panel is-link has-background-light user-panel"},n.a.createElement("p",{className:"panel-heading"},t,"'s Teams"),n.a.createElement("div",{className:"columns"},n.a.createElement("div",{className:"column"},n.a.createElement(l.b,{to:"/teams/create"},n.a.createElement("div",{className:"columns card card-border user-team is-marginless has-background-light"},n.a.createElement("h4",{className:"title is-4"},"\u2795  \xa0Create Team"))),c.length>0&&c.map((function(a){return n.a.createElement("div",{className:"columns card card-border user-team is-marginless has-background-light",key:a.id},n.a.createElement("div",{className:"column is-2"},n.a.createElement(l.b,{to:"/teams/".concat(a.id),className:"focus-border-is-danger"},n.a.createElement("div",{className:a.kit}))),n.a.createElement("div",{className:"column is-5 user-team-name"},n.a.createElement("h4",{className:"title is-3"},a.teamName),n.a.createElement("div",{className:"columns"},n.a.createElement("div",{className:"column is-4"},n.a.createElement(l.b,{to:"/teams/".concat(a.id),className:"focus-border-is-danger"},n.a.createElement("button",{className:"button has-text-white is-link is-size-6"},"See Team"))),n.a.createElement("div",{className:"column is-6"},e.isOwner&&n.a.createElement("button",{id:a.id,className:"button has-text-white is-danger is-size-6",onClick:e.handleDeleteTeam},"Delete Team")),n.a.createElement("div",{className:"column is-1"}))),n.a.createElement("div",{className:"column is-5",id:"user-team-points"},n.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},n.a.createElement("div",{className:"control"},n.a.createElement("div",{className:"tags has-addons"},n.a.createElement("span",{className:"tag is-link is-medium"},"Gameweek Points"),n.a.createElement("span",{className:"tag is-dark has-text-white is-medium"},"\u2605\xa0",a.goalkeepers[0]&&a.goalkeepers[0].eventPoints+a.defenders.reduce((function(e,a){return e+a.eventPoints}),0)+a.midfielders.reduce((function(e,a){return e+a.eventPoints}),0)+a.forwards.reduce((function(e,a){return e+a.eventPoints}),0))))),n.a.createElement("br",null),n.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},n.a.createElement("div",{className:"control"},n.a.createElement("div",{className:"tags has-addons"},n.a.createElement("span",{className:"tag is-link is-medium"},"Total Points"),n.a.createElement("span",{className:"tag is-dark has-text-white is-medium"},"\u2b50\ufe0f\xa0",a.goalkeepers[0]&&a.goalkeepers[0].totalPoints+a.defenders.reduce((function(e,a){return e+a.totalPoints}),0)+a.midfielders.reduce((function(e,a){return e+a.totalPoints}),0)+a.forwards.reduce((function(e,a){return e+a.totalPoints}),0)))))))})))))),n.a.createElement("div",{className:"column is-1"}))))}}]),a}(n.a.Component),S=t(20),L=function(e){function a(){var e,t;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(t=Object(v.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(n)))).state={teamDetails:{teamName:"",manager:"",teamPoints:"",goalkeepers:[],defenders:[],midfielders:[],forwards:[],leagues:[],kit:""},players:[],searchValues:{searchPosition:0,searchName:"",searchTeam:0},error:"",positionLookUp:{1:{position:"goalkeepers",positionCode:"GK",removedPlayerID:["620"]},2:{position:"defenders",positionCode:"DEF",removedPlayerID:["621","622","623","624"]},3:{position:"midfielders",positionCode:"MID",removedPlayerID:["625","626","627","628"]},4:{position:"forwards",positionCode:"FOR",removedPlayerID:["629","630"]}},premierLeagueTeams:[{id:1,name:"Arsenal",teamCode:"ARS",color1:"red",color2:"white2"},{name:"Aston Villa",id:2,teamCode:"AST",color1:"maroon",color2:"white2"},{name:"Bournemouth",id:3,teamCode:"BOU",color1:"red",color2:"white2"},{name:"Brighton & Hove Albion",id:4,teamCode:"BRI",color1:"blue",color2:"white2"},{name:"Burnley",id:5,teamCode:"BUR",color1:"maroon",color2:"white2"},{name:"Chelsea",id:6,teamCode:"CHE",color1:"blue",color2:"white2"},{name:"Crystal Palace",id:7,teamCode:"CRY",color1:"red",color2:"white2"},{name:"Everton",id:8,teamCode:"EVE",color1:"blue",color2:"white2"},{name:"Leicester",id:9,teamCode:"LEI",color1:"blue",color2:"white2"},{name:"Liverpool",id:10,teamCode:"LIV",color1:"red",color2:"white2"},{name:"Manchester City",id:11,teamCode:"MNC",color1:"skyblue",color2:"black2"},{name:"Manchester United",id:12,teamCode:"MNU",color1:"red",color2:"white2"},{name:"Newcastle United",id:13,teamCode:"NEW",color1:"black",color2:"white2"},{name:"Norwich City",id:14,teamCode:"NOR",color1:"yellow",color2:"black2"},{name:"Sheffield United",id:15,teamCode:"SHE",color1:"red",color2:"white2"},{name:"Southampton",id:16,teamCode:"SOU",color1:"red",color2:"white2"},{name:"Tottenham Hotspur",id:17,teamCode:"TOT",color1:"navyblue",color2:"black2"},{name:"Watford",id:18,teamCode:"WAT",color1:"yellow",color2:"black2"},{name:"West Ham United",id:19,teamCode:"WHU",color1:"maroon",color2:"white2"},{name:"Wolverhampton Wanderers",id:20,teamCode:"WOL",color1:"orange",color2:"black2"}],premierLeagueKits:["https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_3-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_7-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_91-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_36-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_90-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_8-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_31-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_11-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_13-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_14-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_43-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_1-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_4-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_45-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_49-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_20-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_6-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_57-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_21-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_39-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_0_1-66.png"],editMode:!1},t.updateTeamCost=function(){if(t.state.teamDetails.goalkeepers[0])return(parseFloat(t.state.teamDetails.goalkeepers[0].cost)+t.state.teamDetails.defenders.reduce((function(e,a){return e+parseFloat(a.cost)}),0)+t.state.teamDetails.midfielders.reduce((function(e,a){return e+parseFloat(a.cost)}),0)+t.state.teamDetails.forwards.reduce((function(e,a){return e+parseFloat(a.cost)}),0)).toFixed(1)},t.updateMoneyRemaining=function(){return(80-t.updateTeamCost()).toFixed(1)},t.getTeamData=function(){var e=Object(p.a)(u.a.mark((function e(a){var s,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("/api/teams/".concat(a));case 3:s=e.sent,n=JSON.parse(JSON.stringify(s.data)),t.setState({teamDetails:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.setState({error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}(),t.getPlayers=Object(p.a)(u.a.mark((function e(){var a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("/api/players");case 3:a=e.sent,s=a.data,t.setState({players:s}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.setState({error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),t.handleEditTeam=function(){return t.setState({editMode:!0})},t.handleSubmitEdit=Object(p.a)(u.a.mark((function e(){var a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={teamName:t.state.teamDetails.teamName,teamPoints:t.state.teamDetails.teamPoints,goalkeepers:t.state.teamDetails.goalkeepers.map((function(e){return e.playerID})),defenders:t.state.teamDetails.defenders.map((function(e){return e.playerID})),midfielders:t.state.teamDetails.midfielders.map((function(e){return e.playerID})),forwards:t.state.teamDetails.forwards.map((function(e){return e.playerID})),kit:t.state.teamDetails.kit},s=t.props.match.params.id,e.prev=2,e.next=5,y.a.put("/api/teams/".concat(s,"/"),a,{headers:{Authorization:"Bearer ".concat(D.getToken())}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:return e.prev=10,t.setState({editMode:!1}),t.getTeamData(s),e.finish(10);case 14:case"end":return e.stop()}}),e,null,[[2,7,10,14]])}))),t.handleDelete=function(e){var a=e.target,s=a.id,n=a.value,r=t.state.positionLookUp[n].position,i=t.state.teamDetails[r].findIndex((function(e){return e.playerID==s})),l=Object(S.a)(t.state.teamDetails[r]);l[i].playerID=t.state.positionLookUp[n].removedPlayerID[i],l[i].club=21,t.setState(Object(b.a)({},t.state,{teamDetails:Object(b.a)({},t.state.teamDetails,{playerPosition:l})}))},t.handlePositionClick=function(e){var a=e.target.value;t.setState(Object(b.a)({},t.state,{searchValues:Object(b.a)({},t.state.searchValues,{searchPosition:a})}))},t.handleChange=function(e){var a=e.target.value;t.setState(Object(b.a)({},t.state,{searchValues:Object(b.a)({},t.state.searchValues,{searchName:a})}))},t.handleNameChange=function(e){var a=e.target,s=(a.name,a.value);console.log(s);var n=s;t.setState(Object(b.a)({},t.state,{teamDetails:Object(b.a)({},t.state.teamDetails,{teamName:n})}))},t.handleTeamChange=function(e){var a=e.target.value;console.log(a);var s=a;t.setState(Object(b.a)({},t.state,{searchValues:Object(b.a)({},t.state.searchValues,{searchTeam:s})}))},t.handleAdd=function(e){var a=e.target,s=a.id,n=a.value;t.state.positionLookUp[n].position;if(!t.state.teamDetails[t.state.positionLookUp[n].position].every((function(e){return e.playerID<=619}))&&!t.state.teamDetails[t.state.positionLookUp[n].position].some((function(e){return e.playerID==s}))){t.state.teamDetails[t.state.positionLookUp[n].position].find((function(e){return e.playerID>619})).playerID=s;var r=Object(S.a)(t.state.teamDetails[t.state.positionLookUp[n].position]);t.setState(Object(b.a)({},t.state,{teamDetails:Object(b.a)({},t.state.teamDetails,{playerPosition:r})})),t.updateTeam()}},t.handleDeleteTeam=function(){var e=Object(p.a)(u.a.mark((function e(a){var s,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.props.match.params.id,n=D.getPayload().sub,e.prev=2,e.next=5,y.a.delete("/api/teams/".concat(s),{headers:{Authorization:"Bearer ".concat(D.getToken())}});case 5:t.props.history.push("/profile/".concat(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),t.props.history.push("/notfound");case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(a){return e.apply(this,arguments)}}(),t.updateTeam=Object(p.a)(u.a.mark((function e(){var a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={goalkeepers:t.state.teamDetails.goalkeepers.map((function(e){return e.playerID})),defenders:t.state.teamDetails.defenders.map((function(e){return e.playerID})),midfielders:t.state.teamDetails.midfielders.map((function(e){return e.playerID})),forwards:t.state.teamDetails.forwards.map((function(e){return e.playerID})),teamPoints:t.state.teamDetails.teamPoints,teamName:t.state.teamDetails.teamName,kit:t.state.teamDetails.kit},s=t.props.match.params.id,e.prev=2,e.next=5,y.a.put("/api/teams/".concat(s,"/"),a,{headers:{Authorization:"Bearer ".concat(D.getToken())}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:return e.prev=10,t.getTeamData(s),t.updateTeamCost(),e.finish(10);case 14:case"end":return e.stop()}}),e,null,[[2,7,10,14]])}))),t.handleKitChange=function(e){var a=e.target,s=(a.name,a.value);t.setState(Object(b.a)({},t.state,{teamDetails:Object(b.a)({},t.state.teamDetails,{kit:s})}))},t}return Object(E.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.getTeamData(e),this.getPlayers()}},{key:"render",value:function(){var e=this;if(!this.state.teamDetails.goalkeepers[0])return null;var a=this.state.teamDetails,t=(a.id,a.teamName),s=a.manager,r=(a.teamPoints,a.goalkeepers),i=a.defenders,c=a.midfielders,m=a.forwards,o=a.kit,d=new RegExp(this.state.searchValues.searchName,"i");return n.a.createElement(n.a.Fragment,null,n.a.createElement(T,null),n.a.createElement("div",{className:"top-banner"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"columns"},n.a.createElement("div",{className:"column is-2"},n.a.createElement("div",{className:this.state.teamDetails.kit}),this.state.editMode&&n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"select is-link"},n.a.createElement("select",{name:"kit",onChange:this.handleKitChange,value:o},n.a.createElement("option",{value:"grey-top"},"Choose Kit"),n.a.createElement("option",{value:"red-top"},"Red"),n.a.createElement("option",{value:"blue-top"},"Blue"),n.a.createElement("option",{value:"yellow-top"},"Yellow"),n.a.createElement("option",{value:"purple-top"},"Purple"),n.a.createElement("option",{value:"green-top"},"Green"),n.a.createElement("option",{value:"orange-top"},"Orange"))))),n.a.createElement("div",{className:"column is-7"},n.a.createElement("div",{className:"columns"},n.a.createElement("div",{className:"column is-6"},this.state.editMode?n.a.createElement("h2",{className:"title is-2 has-text-dark"},n.a.createElement("input",{className:"input has-background-white has-text-black is-medium is-link",id:"team-name-edit",type:"text",placeholder:t,name:"teamName",onChange:this.handleNameChange})):n.a.createElement("h2",{className:"title is-2 has-text-dark"},t)),n.a.createElement("div",{className:"column is-6"},n.a.createElement("div",{className:"columns"},n.a.createElement("div",{className:"column is-half"},this.state.editMode?n.a.createElement("button",{className:"button has-text-white is-link is-size-6 user-edit-button",onClick:this.handleSubmitEdit},"Submit Changes"):n.a.createElement("button",{className:"button has-text-white is-link is-size-6 user-edit-button",onClick:this.handleEditTeam},"Edit Details")),n.a.createElement("div",{className:"column is-half"},n.a.createElement("button",{className:"button has-text-white is-danger is-size-6 user-edit-button",onClick:this.handleDeleteTeam},"Delete Team"))))),n.a.createElement("div",{className:"columns"},n.a.createElement("div",{className:"column is-5"},n.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},n.a.createElement("div",{className:"control"},n.a.createElement("div",{className:"tags has-addons"},n.a.createElement("span",{className:"tag is-link is-medium"},"Gameweek Points"),n.a.createElement("span",{className:"tag is-dark has-text-white is-medium"},"\u2605\xa0",this.state.teamDetails.goalkeepers[0].eventPoints+this.state.teamDetails.defenders.reduce((function(e,a){return e+a.eventPoints}),0)+this.state.teamDetails.midfielders.reduce((function(e,a){return e+a.eventPoints}),0)+this.state.teamDetails.forwards.reduce((function(e,a){return e+a.eventPoints}),0))))),n.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},n.a.createElement("div",{className:"control"},n.a.createElement("div",{className:"tags has-addons"},n.a.createElement("span",{className:"tag is-link is-medium"},"Total Points"),n.a.createElement("span",{className:"tag is-dark has-text-white is-medium"},"\u2b50\ufe0f\xa0",this.state.teamDetails.goalkeepers[0].totalPoints+this.state.teamDetails.defenders.reduce((function(e,a){return e+a.totalPoints}),0)+this.state.teamDetails.midfielders.reduce((function(e,a){return e+a.totalPoints}),0)+this.state.teamDetails.forwards.reduce((function(e,a){return e+a.totalPoints}),0)))))),n.a.createElement("div",{className:"column is-7"},n.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},n.a.createElement("div",{className:"control"},n.a.createElement("div",{className:"tags has-addons"},n.a.createElement("span",{className:"tag is-link is-medium"},"Total Cost"),n.a.createElement("span",{className:"tag is-dark has-text-white is-medium"},"\xa3\xa0",this.updateTeamCost())))),n.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},n.a.createElement("div",{className:"control"},n.a.createElement("div",{className:"tags has-addons"},n.a.createElement("span",{className:"tag is-link is-medium"},"Money Remaining"),n.a.createElement("span",{className:"tag is-dark has-text-white is-medium"},"\xa3\xa0",this.updateMoneyRemaining()))))))),n.a.createElement("div",{className:"column is-3"},n.a.createElement("figure",{className:"image is-128x128"},n.a.createElement(l.b,{to:"/profile/".concat(s.id)},n.a.createElement("img",{className:"is-rounded",src:s.user_image?s.user_image:"https://www.oxfordmail.co.uk/resources/images/10635381.jpg?display=1&htype=0&type=responsive-gallery"}))),n.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},n.a.createElement("div",{className:"control"},n.a.createElement("div",{className:"tags has-addons"},n.a.createElement("span",{className:"tag is-link is-medium"},"Manager"),n.a.createElement("span",{className:"tag is-dark has-text-white is-medium"},s.first_name," ",s.second_name)))))))),n.a.createElement("div",{className:"hero has-background-dark is-fullheight user-background"},n.a.createElement("div",{className:"columns is-centered"},n.a.createElement("div",{className:"column is-7 has-background-light team-container has-margin"},n.a.createElement("nav",{className:"level goalkeeper"},n.a.createElement("div",{className:"level-item has-text-centered"},n.a.createElement("div",null,n.a.createElement("figure",{className:"image is-64x64 scaled"},n.a.createElement("img",{src:this.state.premierLeagueKits[r[0].club-1]})),n.a.createElement("p",{className:"heading",id:r[0].playerID>619?"removed":""},r[0].secondName),n.a.createElement("p",{className:"heading",id:r[0].playerID>619?"removed":""},"\xa0 \xa0 \u2b50\ufe0f",r[0].totalPoints,n.a.createElement("li",{value:"1",id:r[0].playerID,onClick:this.handleDelete,className:"delete"}))))),n.a.createElement("nav",{className:"level defenders more-negative-margin"},n.a.createElement("div",{className:"level-item"}),i.map((function(a){return n.a.createElement("div",{key:a.id,className:"level-item has-text-centered"},n.a.createElement("div",null,n.a.createElement("figure",{className:"image is-64x64 scaled"},n.a.createElement("img",{src:e.state.premierLeagueKits[a.club-1],className:"kit-image"})),n.a.createElement("p",{className:"heading",id:a.playerID>619?"removed":""},a.secondName),n.a.createElement("p",{className:"heading",id:a.playerID>619?"removed":""},"\xa0 \xa0 \u2b50\ufe0f",a.totalPoints,n.a.createElement("li",{value:"2",id:a.playerID,onClick:e.handleDelete,className:"delete"}))))})),n.a.createElement("div",{className:"level-item"})),n.a.createElement("nav",{className:"level midfielders negative-margin"},n.a.createElement("div",{className:"level-item"}),c.map((function(a){return n.a.createElement("div",{key:a.id,className:"level-item has-text-centered"},n.a.createElement("div",null,n.a.createElement("figure",{className:"image is-64x64 scaled"},n.a.createElement("img",{src:e.state.premierLeagueKits[a.club-1],className:"kit-image"})),n.a.createElement("p",{className:"heading",id:a.playerID>619?"removed":""},a.secondName),n.a.createElement("p",{className:"heading",id:a.playerID>619?"removed":""},"\xa0 \xa0 \u2b50\ufe0f",a.totalPoints,n.a.createElement("li",{value:"3",id:a.playerID,onClick:e.handleDelete,className:"delete"}))))})),n.a.createElement("div",{className:"level-item"})),n.a.createElement("nav",{className:"level forwards negative-margin"},n.a.createElement("div",{className:"level-item"}),m.map((function(a){return n.a.createElement("div",{key:a.id,className:"level-item has-text-centered"},n.a.createElement("div",null,n.a.createElement("figure",{className:"image is-64x64 scaled"},n.a.createElement("img",{src:e.state.premierLeagueKits[a.club-1],className:"kit-image"})),n.a.createElement("p",{className:"heading",id:a.playerID>619?"removed":""},a.secondName),n.a.createElement("p",{className:"heading",id:a.playerID>619?"removed":""},"\xa0 \xa0 \u2b50\ufe0f",a.totalPoints,n.a.createElement("li",{value:"4",id:a.playerID,onClick:e.handleDelete,className:"delete"}))))})),n.a.createElement("div",{className:"level-item"})),n.a.createElement("br",null)),n.a.createElement("div",{className:"column is-3 has-background-dark no-padding has-margin"},n.a.createElement("article",{className:"panel is-link has-background-light"},n.a.createElement("p",{className:"panel-heading"},"Player Search"),n.a.createElement("p",{className:"panel-tabs"},n.a.createElement("a",null,n.a.createElement("li",{value:"0",onClick:this.handlePositionClick},"ALL")),n.a.createElement("a",null,n.a.createElement("li",{value:"1",onClick:this.handlePositionClick},"GK")),n.a.createElement("a",null,n.a.createElement("li",{value:"2",onClick:this.handlePositionClick},"DEF")),n.a.createElement("a",null,n.a.createElement("li",{value:"3",onClick:this.handlePositionClick},"MID")),n.a.createElement("a",null,n.a.createElement("li",{value:"4",onClick:this.handlePositionClick},"FOR"))),n.a.createElement("div",{className:"panel-block"},n.a.createElement("div",{className:"control has-icons-left"},n.a.createElement("input",{className:"input is-link",type:"text",placeholder:"Search",onChange:this.handleChange}),n.a.createElement("span",{className:"icon is-left"},n.a.createElement("p",null,"\ud83d\udd0d")))),n.a.createElement("div",{className:"panel-block"},n.a.createElement("div",{className:"control has-icons-left"},n.a.createElement("div",{className:"select is-link"},n.a.createElement("select",{onChange:this.handleTeamChange,name:"searchTeam"},n.a.createElement("option",{value:"0"},"All"),this.state.premierLeagueTeams.map((function(e){return n.a.createElement("option",{key:e.id,value:e.id},e.name)})))))),this.state.players.filter((function(a){return(a.position===e.state.searchValues.searchPosition||0===e.state.searchValues.searchPosition)&&(d.test(a.firstName)||d.test(a.secondName))&&(a.club==e.state.searchValues.searchTeam||0==e.state.searchValues.searchTeam)&&21!==a.club})).map((function(a){return n.a.createElement("div",{key:a.playerID,className:"columns panel-block is-marginless"},n.a.createElement("div",{className:"column is-2 no-padding"},n.a.createElement("figure",{className:"image is-48x48 small-scaled"},n.a.createElement("img",{src:e.state.premierLeagueKits[a.club-1]}))),n.a.createElement("div",{className:"column is-8"},a.secondName,n.a.createElement("br",null),n.a.createElement("div",{className:"columns"},n.a.createElement("div",{className:"column is-half"},n.a.createElement("span",{className:"has-text-weight-bold"},e.state.premierLeagueTeams[a.club-1].teamCode),n.a.createElement("br",null),"\u2b50\ufe0f",a.totalPoints),n.a.createElement("div",{className:"column is-half"},e.state.positionLookUp[a.position].positionCode,n.a.createElement("br",null),"\xa3",a.cost,"m"))),n.a.createElement("div",{className:"column is-2 no-padding"},n.a.createElement("a",null,n.a.createElement("button",{className:"button is-rounded is-small add-player-button",value:a.position,id:a.playerID,onClick:e.handleAdd},"\xa0\u2795"))))})))))))}}]),a}(n.a.Component),U=function(e){function a(){var e,t;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(t=Object(v.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(n)))).state={savedTeam:!1,teamDetails:{teamName:"Enter Team Name",manager:"",teamPoints:0,goalkeepers:["620"],defenders:["621","622","623","624"],midfielders:["625","626","627","628"],forwards:["629","630"],leagues:[],kit:""},players:[],searchValues:{searchPosition:0,searchName:"",searchTeam:0},error:"",positionLookUp:{1:{position:"goalkeepers",positionCode:"GK",removedPlayerID:["620"]},2:{position:"defenders",positionCode:"DEF",removedPlayerID:["621","622","623","624"]},3:{position:"midfielders",positionCode:"MID",removedPlayerID:["625","626","627","628"]},4:{position:"forwards",positionCode:"FOR",removedPlayerID:["629","630"]}},premierLeagueTeams:[{id:1,name:"Arsenal",teamCode:"ARS",color1:"red",color2:"white2"},{name:"Aston Villa",id:2,teamCode:"AST",color1:"maroon",color2:"white2"},{name:"Bournemouth",id:3,teamCode:"BOU",color1:"red",color2:"white2"},{name:"Brighton & Hove Albion",id:4,teamCode:"BRI",color1:"blue",color2:"white2"},{name:"Burnley",id:5,teamCode:"BUR",color1:"maroon",color2:"white2"},{name:"Chelsea",id:6,teamCode:"CHE",color1:"blue",color2:"white2"},{name:"Crystal Palace",id:7,teamCode:"CRY",color1:"red",color2:"white2"},{name:"Everton",id:8,teamCode:"EVE",color1:"blue",color2:"white2"},{name:"Leicester",id:9,teamCode:"LEI",color1:"blue",color2:"white2"},{name:"Liverpool",id:10,teamCode:"LIV",color1:"red",color2:"white2"},{name:"Manchester City",id:11,teamCode:"MNC",color1:"skyblue",color2:"black2"},{name:"Manchester United",id:12,teamCode:"MNU",color1:"red",color2:"white2"},{name:"Newcastle United",id:13,teamCode:"NEW",color1:"black",color2:"white2"},{name:"Norwich City",id:14,teamCode:"NOR",color1:"yellow",color2:"black2"},{name:"Sheffield United",id:15,teamCode:"SHE",color1:"red",color2:"white2"},{name:"Southampton",id:16,teamCode:"SOU",color1:"red",color2:"white2"},{name:"Tottenham Hotspur",id:17,teamCode:"TOT",color1:"navyblue",color2:"black2"},{name:"Watford",id:18,teamCode:"WAT",color1:"yellow",color2:"black2"},{name:"West Ham United",id:19,teamCode:"WHU",color1:"maroon",color2:"white2"},{name:"Wolverhampton Wanderers",id:20,teamCode:"WOL",color1:"orange",color2:"black2"}],premierLeagueKits:["https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_3-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_7-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_91-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_36-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_90-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_8-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_31-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_11-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_13-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_14-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_43-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_1-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_4-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_45-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_49-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_20-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_6-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_57-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_21-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_39-66.png","https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_0_1-66.png"]},t.updateTeamCost=function(){if(t.state.teamDetails.goalkeepers[0])return(parseFloat(t.state.teamDetails.goalkeepers[0].cost)+t.state.teamDetails.defenders.reduce((function(e,a){return e+parseFloat(a.cost)}),0)+t.state.teamDetails.midfielders.reduce((function(e,a){return e+parseFloat(a.cost)}),0)+t.state.teamDetails.forwards.reduce((function(e,a){return e+parseFloat(a.cost)}),0)).toFixed(1)},t.updateMoneyRemaining=function(){return(80-t.updateTeamCost()).toFixed(1)},t.handleDeleteTeam=function(){var e=Object(p.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.delete("/api/teams/".concat(a),{headers:{Authorization:"Bearer ".concat(D.getToken())}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(a){return e.apply(this,arguments)}}(),t.handleSaveTeam=function(){var e=t.state.teamDetails.id;t.setState({savedTeam:!0}),t.updateTeam().then((function(){return t.props.history.push("/teams/".concat(e))}))},t.handleDiscardTeam=function(){var e=D.getPayload().sub;t.handleDeleteTeam(t.state.teamDetails.id).then((function(){return t.props.history.push("/profile/".concat(e))}))},t.createEmptyTeam=Object(p.a)(u.a.mark((function e(){var a,s,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={goalkeepers:t.state.teamDetails.goalkeepers,defenders:t.state.teamDetails.defenders,midfielders:t.state.teamDetails.midfielders,forwards:t.state.teamDetails.forwards,teamPoints:t.state.teamDetails.teamPoints,teamName:t.state.teamDetails.teamName},e.prev=1,e.next=4,t.postEmptyTeam(a);case 4:s=e.sent,n=s.data.id,t.getTeamData(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),t.getTeamData=function(){var e=Object(p.a)(u.a.mark((function e(a){var s,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("/api/teams/".concat(a));case 3:s=e.sent,n=JSON.parse(JSON.stringify(s.data)),t.setState({teamDetails:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.setState({error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}(),t.getPlayers=Object(p.a)(u.a.mark((function e(){var a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("/api/players");case 3:a=e.sent,s=a.data,t.setState({players:s}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.setState({error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),t.handleDelete=function(e){var a=e.target,s=a.id,n=a.value,r=t.state.positionLookUp[n].position,i=t.state.teamDetails[r].findIndex((function(e){return e.playerID==s})),l=Object(S.a)(t.state.teamDetails[r]);l[i].playerID=t.state.positionLookUp[n].removedPlayerID[i],l[i].club=21,t.setState(Object(b.a)({},t.state,{teamDetails:Object(b.a)({},t.state.teamDetails,{playerPosition:l})}))},t.handleNameChange=function(e){var a=e.target,s=(a.name,a.value);console.log(s);var n=s;t.setState(Object(b.a)({},t.state,{teamDetails:Object(b.a)({},t.state.teamDetails,{teamName:n})}))},t.handlePositionClick=function(e){var a=e.target.value;t.setState(Object(b.a)({},t.state,{searchValues:Object(b.a)({},t.state.searchValues,{searchPosition:a})}))},t.handleChange=function(e){var a=e.target.value;t.setState(Object(b.a)({},t.state,{searchValues:Object(b.a)({},t.state.searchValues,{searchName:a})}))},t.handleTeamChange=function(e){var a=e.target.value;t.setState(Object(b.a)({},t.state,{searchValues:Object(b.a)({},t.state.searchValues,{searchTeam:a})}))},t.handleAdd=function(e){var a=e.target,s=a.id,n=a.value;t.state.positionLookUp[n].position;if(!t.state.teamDetails[t.state.positionLookUp[n].position].every((function(e){return e.playerID<=619}))&&!t.state.teamDetails[t.state.positionLookUp[n].position].some((function(e){return e.playerID==s}))){t.state.teamDetails[t.state.positionLookUp[n].position].find((function(e){return e.playerID>619})).playerID=s;var r=Object(S.a)(t.state.teamDetails[t.state.positionLookUp[n].position]);t.setState(Object(b.a)({},t.state,{teamDetails:Object(b.a)({},t.state.teamDetails,{playerPosition:r})})),t.updateTeam()}},t.updateTeam=Object(p.a)(u.a.mark((function e(){var a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={goalkeepers:t.state.teamDetails.goalkeepers.map((function(e){return e.playerID})),defenders:t.state.teamDetails.defenders.map((function(e){return e.playerID})),midfielders:t.state.teamDetails.midfielders.map((function(e){return e.playerID})),forwards:t.state.teamDetails.forwards.map((function(e){return e.playerID})),teamPoints:t.state.teamDetails.teamPoints,teamName:t.state.teamDetails.teamName,kit:t.state.teamDetails.kit},s=t.state.teamDetails.id,e.prev=2,e.next=5,y.a.put("/api/teams/".concat(s,"/"),a,{headers:{Authorization:"Bearer ".concat(D.getToken())}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:return e.prev=10,t.getTeamData(s),t.updateTeamCost(),e.finish(10);case 14:case"end":return e.stop()}}),e,null,[[2,7,10,14]])}))),t.handleKitChange=function(e){var a=e.target,s=(a.name,a.value);t.setState(Object(b.a)({},t.state,{teamDetails:Object(b.a)({},t.state.teamDetails,{kit:s})}))},t}return Object(E.a)(a,e),Object(g.a)(a,[{key:"componentWillUnmount",value:function(){this.state.savedTeam||this.handleDeleteTeam(this.state.teamDetails.id)}},{key:"componentDidMount",value:function(){this.createEmptyTeam(),this.getPlayers()}},{key:"postEmptyTeam",value:function(e){return y.a.post("/api/teams/",e,{headers:{Authorization:"Bearer ".concat(D.getToken())}})}},{key:"render",value:function(){var e=this;if(!this.state.teamDetails.manager)return null;var a=this.state.teamDetails,t=(a.id,a.teamName),s=a.manager,r=(a.teamPoints,a.goalkeepers),i=a.defenders,c=a.midfielders,m=a.forwards,o=a.kit,d=a.teamCost,u=new RegExp(this.state.searchValues.searchName,"i");return console.log(d),n.a.createElement(n.a.Fragment,null,n.a.createElement(T,null),n.a.createElement("div",{className:"top-banner"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"columns"},n.a.createElement("div",{className:"column is-2"},n.a.createElement("div",{className:this.state.teamDetails.kit}),n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"select is-link"},n.a.createElement("select",{name:"kit",onChange:this.handleKitChange,value:o},n.a.createElement("option",{value:"grey-top"},"Choose Kit"),n.a.createElement("option",{value:"red-top"},"Red"),n.a.createElement("option",{value:"blue-top"},"Blue"),n.a.createElement("option",{value:"yellow-top"},"Yellow"),n.a.createElement("option",{value:"purple-top"},"Purple"),n.a.createElement("option",{value:"green-top"},"Green"),n.a.createElement("option",{value:"orange-top"},"Orange"))))),n.a.createElement("div",{className:"column is-7"},n.a.createElement("div",{className:"columns"},n.a.createElement("div",{className:"column is-6"},n.a.createElement("h2",{className:"title is-2 has-text-dark"},n.a.createElement("input",{className:"input has-background-white has-text-black is-medium is-link",id:"team-name-edit",type:"text",placeholder:t,name:"teamName",onChange:this.handleNameChange}))),n.a.createElement("div",{className:"column is-6"},n.a.createElement("div",{className:"columns"},n.a.createElement("div",{className:"column is-half"},n.a.createElement("button",{className:"button has-text-white is-link is-size-6 user-edit-button",onClick:this.handleSaveTeam},"Save Team")),n.a.createElement("div",{className:"column is-half"},n.a.createElement("button",{className:"button has-text-white is-danger is-size-6 user-edit-button",onClick:this.handleDiscardTeam},"Discard Team"))))),n.a.createElement("div",{className:"columns"},n.a.createElement("div",{className:"column is-5"},n.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},n.a.createElement("div",{className:"control"},n.a.createElement("div",{className:"tags has-addons"},n.a.createElement("span",{className:"tag is-link is-medium"},"Gameweek Points"),n.a.createElement("span",{className:"tag is-dark has-text-white is-medium"},"\u2605\xa0\xa0",this.state.teamDetails.goalkeepers[0].eventPoints+this.state.teamDetails.defenders.reduce((function(e,a){return e+a.eventPoints}),0)+this.state.teamDetails.midfielders.reduce((function(e,a){return e+a.eventPoints}),0)+this.state.teamDetails.forwards.reduce((function(e,a){return e+a.eventPoints}),0))))),n.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},n.a.createElement("div",{className:"control"},n.a.createElement("div",{className:"tags has-addons"},n.a.createElement("span",{className:"tag is-link is-medium"},"Total Points"),n.a.createElement("span",{className:"tag is-dark has-text-white is-medium"},"\u2b50\ufe0f\xa0",this.state.teamDetails.goalkeepers[0].totalPoints+this.state.teamDetails.defenders.reduce((function(e,a){return e+a.totalPoints}),0)+this.state.teamDetails.midfielders.reduce((function(e,a){return e+a.totalPoints}),0)+this.state.teamDetails.forwards.reduce((function(e,a){return e+a.totalPoints}),0)))))),n.a.createElement("div",{className:"column is-7"},n.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},n.a.createElement("div",{className:"control"},n.a.createElement("div",{className:"tags has-addons"},n.a.createElement("span",{className:"tag is-link is-medium"},"Total Cost"),n.a.createElement("span",{className:"tag is-dark has-text-white is-medium"},"\xa3\xa0",this.updateTeamCost())))),n.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},n.a.createElement("div",{className:"control"},n.a.createElement("div",{className:"tags has-addons"},n.a.createElement("span",{className:"tag is-link is-medium"},"Money Remaining"),n.a.createElement("span",{className:"tag is-dark has-text-white is-medium"},"\xa3\xa0",this.updateMoneyRemaining()))))))),n.a.createElement("div",{className:"column is-3"},n.a.createElement("figure",{className:"image is-128x128"},n.a.createElement(l.b,{to:"/profile/".concat(s.id)},n.a.createElement("img",{className:"is-rounded",src:s.user_image?s.user_image:"https://www.oxfordmail.co.uk/resources/images/10635381.jpg?display=1&htype=0&type=responsive-gallery"}))),n.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},n.a.createElement("div",{className:"control"},n.a.createElement("div",{className:"tags has-addons"},n.a.createElement("span",{className:"tag is-link is-medium"},"Manager"),n.a.createElement("span",{className:"tag is-dark has-text-white is-medium"},s.first_name," ",s.second_name)))))))),n.a.createElement("div",{className:"hero has-background-dark is-fullheight user-background"},n.a.createElement("div",{className:"columns is-centered"},n.a.createElement("div",{className:"column is-7 has-background-light team-container has-margin"},n.a.createElement("nav",{className:"level goalkeeper"},n.a.createElement("div",{className:"level-item has-text-centered"},n.a.createElement("div",null,n.a.createElement("figure",{className:"image is-64x64 scaled"},n.a.createElement("img",{src:this.state.premierLeagueKits[r[0].club-1]})),n.a.createElement("p",{className:"heading",id:r[0].playerID>619?"removed":""},r[0].secondName),n.a.createElement("p",{className:"heading",id:r[0].playerID>619?"removed":""},"\xa0 \xa0 \u2b50\ufe0f",r[0].totalPoints,n.a.createElement("li",{value:"1",id:r[0].playerID,onClick:this.handleDelete,className:"delete"}))))),n.a.createElement("nav",{className:"level defenders more-negative-margin"},n.a.createElement("div",{className:"level-item"}),i.map((function(a){return n.a.createElement("div",{key:a.id,className:"level-item has-text-centered"},n.a.createElement("div",null,n.a.createElement("figure",{className:"image is-64x64 scaled"},n.a.createElement("img",{src:e.state.premierLeagueKits[a.club-1],className:"kit-image"})),n.a.createElement("p",{className:"heading",id:a.playerID>619?"removed":""},a.secondName),n.a.createElement("p",{className:"heading",id:a.playerID>619?"removed":""},"\xa0 \xa0 \u2b50\ufe0f",a.totalPoints,n.a.createElement("li",{value:"2",id:a.playerID,onClick:e.handleDelete,className:"delete"}))))})),n.a.createElement("div",{className:"level-item"})),n.a.createElement("nav",{className:"level midfielders negative-margin"},n.a.createElement("div",{className:"level-item"}),c.map((function(a){return n.a.createElement("div",{key:a.id,className:"level-item has-text-centered"},n.a.createElement("div",null,n.a.createElement("figure",{className:"image is-64x64 scaled"},n.a.createElement("img",{src:e.state.premierLeagueKits[a.club-1],className:"kit-image"})),n.a.createElement("p",{className:"heading",id:a.playerID>619?"removed":""},a.secondName),n.a.createElement("p",{className:"heading",id:a.playerID>619?"removed":""},"\xa0 \xa0 \u2b50\ufe0f",a.totalPoints,n.a.createElement("li",{value:"3",id:a.playerID,onClick:e.handleDelete,className:"delete"}))))})),n.a.createElement("div",{className:"level-item"})),n.a.createElement("nav",{className:"level forwards negative-margin"},n.a.createElement("div",{className:"level-item"}),m.map((function(a){return n.a.createElement("div",{key:a.id,className:"level-item has-text-centered"},n.a.createElement("div",null,n.a.createElement("figure",{className:"image is-64x64 scaled"},n.a.createElement("img",{src:e.state.premierLeagueKits[a.club-1],className:"kit-image"})),n.a.createElement("p",{className:"heading",id:a.playerID>619?"removed":""},a.secondName),n.a.createElement("p",{className:"heading",id:a.playerID>619?"removed":""},"\xa0 \xa0 \u2b50\ufe0f",a.totalPoints,n.a.createElement("li",{value:"4",id:a.playerID,onClick:e.handleDelete,className:"delete"}))))})),n.a.createElement("div",{className:"level-item"})),n.a.createElement("br",null)),n.a.createElement("div",{className:"column is-3 has-background-dark no-padding has-margin"},n.a.createElement("article",{className:"panel is-link has-background-light"},n.a.createElement("p",{className:"panel-heading"},"Player Search"),n.a.createElement("p",{className:"panel-tabs"},n.a.createElement("a",null,n.a.createElement("li",{value:"0",onClick:this.handlePositionClick},"ALL")),n.a.createElement("a",null,n.a.createElement("li",{value:"1",onClick:this.handlePositionClick},"GK")),n.a.createElement("a",null,n.a.createElement("li",{value:"2",onClick:this.handlePositionClick},"DEF")),n.a.createElement("a",null,n.a.createElement("li",{value:"3",onClick:this.handlePositionClick},"MID")),n.a.createElement("a",null,n.a.createElement("li",{value:"4",onClick:this.handlePositionClick},"FOR"))),n.a.createElement("div",{className:"panel-block"},n.a.createElement("div",{className:"control has-icons-left"},n.a.createElement("input",{className:"input is-link",type:"text",placeholder:"Search",onChange:this.handleChange}),n.a.createElement("span",{className:"icon is-left"},n.a.createElement("p",null,"\ud83d\udd0d")))),n.a.createElement("div",{className:"panel-block"},n.a.createElement("div",{className:"control has-icons-left"},n.a.createElement("div",{className:"select is-link"},n.a.createElement("select",{onChange:this.handleTeamChange,name:"searchTeam"},n.a.createElement("option",{value:"0"},"All"),this.state.premierLeagueTeams.map((function(e){return n.a.createElement("option",{key:e.id,value:e.id},e.name)})))))),this.state.players.filter((function(a){return(a.position===e.state.searchValues.searchPosition||0===e.state.searchValues.searchPosition)&&(u.test(a.firstName)||u.test(a.secondName))&&(a.club==e.state.searchValues.searchTeam||0==e.state.searchValues.searchTeam)&&21!==a.club})).map((function(a){return n.a.createElement("div",{key:a.playerID,className:"columns panel-block is-marginless"},n.a.createElement("div",{className:"column is-2 no-padding"},n.a.createElement("figure",{className:"image is-48x48 small-scaled"},n.a.createElement("img",{src:e.state.premierLeagueKits[a.club-1]}))),n.a.createElement("div",{className:"column is-8"},a.secondName,n.a.createElement("br",null),n.a.createElement("div",{className:"columns"},n.a.createElement("div",{className:"column is-half"},n.a.createElement("span",{className:"has-text-weight-bold"},e.state.premierLeagueTeams[a.club-1].teamCode),n.a.createElement("br",null),"\u2b50\ufe0f",a.totalPoints),n.a.createElement("div",{className:"column is-half"},e.state.positionLookUp[a.position].positionCode,n.a.createElement("br",null),"\xa3",a.cost,"m"))),n.a.createElement("div",{className:"column is-2 no-padding"},n.a.createElement("a",null,n.a.createElement("button",{className:"button is-rounded is-small add-player-button",value:a.position,id:a.playerID,onClick:e.handleAdd},"\xa0\u2795"))))})))))))}}]),a}(n.a.Component),A=function(){return n.a.createElement(l.a,null,n.a.createElement(n.a.Fragment,null,n.a.createElement(o.a,null),n.a.createElement(c.c,null,n.a.createElement(c.a,{exact:!0,path:"/",component:P}),n.a.createElement(c.a,{exact:!0,path:"/profile/:id",component:_}),n.a.createElement(c.a,{exact:!0,path:"/teams/create",component:U}),n.a.createElement(c.a,{exact:!0,path:"/teams/:id",component:L}))))};i.a.render(n.a.createElement(A,null),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.6f858407.chunk.js.map